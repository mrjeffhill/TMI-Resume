{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/jeff/Documents/React Sandbox/resume-resume/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/Users/jeff/Documents/React Sandbox/resume-resume/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jeff/Documents/React Sandbox/resume-resume/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/jeff/Documents/React Sandbox/resume-resume/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/jeff/Documents/React Sandbox/resume-resume/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/jeff/Documents/React Sandbox/resume-resume/node_modules/@babel/runtime/helpers/esm/inherits\";import*as React from\"react\";import{AppData}from\"./appdata\";import Employer from\"./employer\";import helpers from\"./helpers\";var History=/*#__PURE__*/function(_React$Component){_inherits(History,_React$Component);var _super=_createSuper(History);// ***** access via this.context\nfunction History(props){var _this;_classCallCheck(this,History);_this=_super.call(this,props);_this.state={balls:\"\",empCount:0,allDeets:[],openDeets:0,toggleActive:false};_this.toggleDetails=_this.toggleDetails.bind(_assertThisInitialized(_this));_this.handleChildDeets=_this.handleChildDeets.bind(_assertThisInitialized(_this));_this.heyBattaBatta=_this.heyBattaBatta.bind(_assertThisInitialized(_this));return _this;}_createClass(History,[{key:\"componentDidMount\",value:function componentDidMount(){var allDeets=document.getElementsByClassName(\"org-details\");this.setState({allDeets:allDeets});}},{key:\"componentWillUpdate\",value:function componentWillUpdate(nextProps,nextState){}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){}},{key:\"handleChildDeets\",value:function handleChildDeets(event){// the event context comes from the Child\nvar isOpen=event.target.closest(\"details\").open;var deetsOpen=this.state.openDeets;if(isOpen){this.setState({openDeets:this.state.openDeets-1});deetsOpen--;}else{this.setState({openDeets:this.state.openDeets+1});deetsOpen++;}deetsOpen>0?this.setState({toggleActive:true}):this.setState({toggleActive:false});this.heyBattaBatta();}},{key:\"toggleDetails\",value:function toggleDetails(event){event.preventDefault();var total=this.state.empCount;var opened=this.state.openDeets;var deets=this.state.allDeets;var toggleActive=this.state.toggleActive;if(toggleActive&&opened!==0){var _iterator=_createForOfIteratorHelper(deets),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var deet=_step.value;deet.open=false;}}catch(err){_iterator.e(err);}finally{_iterator.f();}this.setState({openDeets:0,toggleActive:false});}else{var _iterator2=_createForOfIteratorHelper(deets),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _deet=_step2.value;_deet.open=true;}//\n}catch(err){_iterator2.e(err);}finally{_iterator2.f();}this.setState({openDeets:this.state.empCount,toggleActive:true});}this.heyBattaBatta();}},{key:\"heyBattaBatta\",value:function heyBattaBatta(){var swingas=document.getElementsByTagName(\"time\");var _iterator3=_createForOfIteratorHelper(swingas),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var swinga=_step3.value;swinga.classList.remove(\"swing\");swinga.setAttribute(\"style\",\"animation-delay: \"+helpers.getRandom(1)/2+\"s\");swinga.classList.add(\"swing\");}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}setTimeout(function(){var _iterator4=_createForOfIteratorHelper(swingas),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var swinga=_step4.value;swinga.classList.remove(\"swing\");}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}},5000);}},{key:\"render\",value:function render(){var _this2=this;var context=this.context;var employerList=context.resume.history;var toggleClass=\"toggle-all\";this.state.openDeets>0?toggleClass=\"toggle-all active\":toggleClass=\"toggle-all\";return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"section\",{className:\"res-history\",id:\"History\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"note toggle-history-deets rr\"},\"Professional History\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:toggleClass,onClick:function onClick(e){_this2.toggleDetails(e);}})),employerList.map(function(employer,index){_this2.state.empCount=index+1;return/*#__PURE__*/React.createElement(Employer,{key:index,id:index,employer:employer,deetHandler:function deetHandler(e){_this2.handleChildDeets(e);}});})));}}]);return History;}(React.Component);History.contextType=AppData;export default History;","map":{"version":3,"sources":["/Users/jeff/Documents/React Sandbox/resume-resume/src/components/history.js"],"names":["React","AppData","Employer","helpers","History","props","state","balls","empCount","allDeets","openDeets","toggleActive","toggleDetails","bind","handleChildDeets","heyBattaBatta","document","getElementsByClassName","setState","nextProps","nextState","prevProps","prevState","event","isOpen","target","closest","open","deetsOpen","preventDefault","total","opened","deets","deet","swingas","getElementsByTagName","swinga","classList","remove","setAttribute","getRandom","add","setTimeout","context","employerList","resume","history","toggleClass","e","map","employer","index","Component","contextType"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { AppData } from \"./appdata\";\nimport Employer from \"./employer\";\nimport helpers from \"./helpers\";\n\nclass History extends React.Component {\n  static contextType = AppData; // ***** access via this.context\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      balls: \"\",\n      empCount: 0,\n      allDeets: [],\n      openDeets: 0,\n      toggleActive: false\n    };\n\n    this.toggleDetails = this.toggleDetails.bind(this);\n    this.handleChildDeets = this.handleChildDeets.bind(this);\n    this.heyBattaBatta = this.heyBattaBatta.bind(this);\n  }\n\n  componentDidMount() {\n    const allDeets = document.getElementsByClassName(\"org-details\");\n\n    this.setState({\n      allDeets: allDeets\n    });\n  }\n  componentWillUpdate(nextProps, nextState) {}\n  componentDidUpdate(prevProps, prevState) {}\n\n  handleChildDeets(event) {\n    // the event context comes from the Child\n\n    let isOpen = event.target.closest(\"details\").open;\n    let deetsOpen = this.state.openDeets;\n    if (isOpen) {\n      this.setState({\n        openDeets: this.state.openDeets - 1\n      });\n      deetsOpen--;\n    } else {\n      this.setState({\n        openDeets: this.state.openDeets + 1\n      });\n      deetsOpen++;\n    }\n    deetsOpen > 0\n      ? this.setState({\n          toggleActive: true\n        })\n      : this.setState({\n          toggleActive: false\n        });\n\n    this.heyBattaBatta();\n  }\n\n  toggleDetails(event) {\n    event.preventDefault();\n    let total = this.state.empCount;\n    let opened = this.state.openDeets;\n    let deets = this.state.allDeets;\n    let toggleActive = this.state.toggleActive;\n    if (toggleActive && opened !== 0) {\n      for (let deet of deets) {\n        deet.open = false;\n      }\n      this.setState({\n        openDeets: 0,\n        toggleActive: false\n      });\n    } else {\n      for (let deet of deets) {\n        deet.open = true;\n      } //\n      this.setState({\n        openDeets: this.state.empCount,\n        toggleActive: true\n      });\n    }\n\n    this.heyBattaBatta();\n  }\n\n  heyBattaBatta() {\n    const swingas = document.getElementsByTagName(\"time\");\n    for (let swinga of swingas) {\n      swinga.classList.remove(\"swing\");\n      swinga.setAttribute(\n        \"style\",\n        \"animation-delay: \" + helpers.getRandom(1) / 2 + \"s\"\n      );\n      swinga.classList.add(\"swing\");\n    }\n    setTimeout(function() {\n      for (let swinga of swingas) {\n        swinga.classList.remove(\"swing\");\n      }\n    }, 5000);\n  }\n\n  render() {\n    const context = this.context;\n    const employerList = context.resume.history;\n    let toggleClass = \"toggle-all\";\n    this.state.openDeets > 0\n      ? (toggleClass = \"toggle-all active\")\n      : (toggleClass = \"toggle-all\");\n    return (\n      <React.Fragment>\n        <section className=\"res-history\" id=\"History\">\n          <h2 className=\"note toggle-history-deets rr\">\n            Professional History{\" \"}\n            <span\n              className={toggleClass}\n              onClick={e => {\n                this.toggleDetails(e);\n              }}\n            ></span>\n          </h2>\n          {employerList.map((employer, index) => {\n            this.state.empCount = index + 1;\n            return (\n              <Employer\n                key={index}\n                id={index}\n                employer={employer}\n                deetHandler={e => {\n                  this.handleChildDeets(e);\n                }}\n              />\n            );\n          })}\n        </section>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default History;\n"]},"metadata":{},"sourceType":"module"}